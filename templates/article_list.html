<!-- templates/article_list.html -->

{% extends "base.html" %}

{% block title %}

    Articles
    
{% endblock title %}

{% block content %}

    {% for article in object_list %}

        <div class="card">

            <div class="card-header">

                <span class="font-weight-bold text-primary">{{ article.title }}</span> &middot;
                <p><span class="text-muted"> Posted by {{ article.author }} | {{ article.date }}</span></p>
                
            </div>

            <div class="card-body">
                {{ article.body }}
                
                <a href="{% url 'article_edit' article.pk %}"><span class="text-info">Edit</span></a> | <a href="{% url 'article_delete' article.pk %}"><span class="text-danger">Delete</span></a>

            </div>

            <div class="card-footer text-center text-muted">

                {% for comment in article.comments.all  %}

                    {% if comment %}

                <p class="font-weight-bold">Comments</p>

                    <p>
                        <span class="font-weight-bold">{{ comment.author }} &middot;</span>

                        {{ comment }}

                    </p>
                    
                    {% endif %}
                    
                {% endfor %}
                
            </div>
            
        </div>

        <br>
        
    {% endfor %}
    
{% endblock content %}